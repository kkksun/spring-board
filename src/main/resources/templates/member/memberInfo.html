<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/boardStyle.css}"
          href="../css/boardStyle.css" rel="stylesheet">
    <script th:inline="javascript">
        const deleteMember = () => {
            let loginId = [[${memberInfo.loginId}]];
            let url =  window.location.origin + [[@{/member/delete/{memberId}(memberId=${memberInfo.id})}]];

                if (loginId ===  "admin") {
                    alert("admin 계정은 탈퇴 불가합니다.");
                    // $(".btn_d").prop("disabled", true);
                } else {
                    if(confirm('탈퇴하시겠습니까?')) {
                        location.href = url;
                    }
                }
        }
    </script>
</head>
<body>
<div class="container">
    <div th:replace="~{fragment/topFrag :: topTitle ('회원 정보')}"></div>
    <div th:replace="~{fragment/topFrag :: menu ('NONE')}"></div><br>
    <div class="memberInfo" >
        <div>
            <label class="col">아이디</label>
            <input class="loginId" th:field="${memberInfo.loginId}" readonly>
        </div>
        <div>
            <label class="col">비밀번호</label>
            <div class="btn_p"><button class="pwChangeBtn"  type="button" th:onclick="|location.href='@{/member/edit/{memberId}(memberId=${memberInfo.id}, pwChange=true)}'|">변경하기</button></div>
        </div>
        <div>
            <label class="col">이름</label>
            <input class="userName" th:field="${memberInfo.userName}" readonly>
        </div>
        <div>
            <label class="col">이메일</label>
            <input class="email" th:field="${memberInfo.email}" readonly>
        </div>
        <div>
            <label class="col">유형</label>
            <input class="type" th:field="${memberInfo.type}" readonly>
        </div>
        <div class="line"></div>
        <div class="row">
            <div class="btn">
                <button class="btn_e" th:onclick="|location.href='@{/member/edit/{memberId}(memberId=${memberInfo.id}, pwChange=false)}'|" type="button">수정</button>
                <button class="btn_d" th:onclick="deleteMember()" type="button">탈퇴</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>